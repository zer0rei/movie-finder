(this["webpackJsonpmovie-finder"]=this["webpackJsonpmovie-finder"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.bb4244da.svg"},function(e,t,a){e.exports=a.p+"static/media/movie-clapper.9231dfe5.svg"},function(e,t,a){e.exports=a.p+"static/media/television.41723b11.svg"},,,,function(e,t,a){e.exports=a(54)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),o=a.n(s),c=(a(25),a(2)),i=(a(26),a(27),a(14)),l=a.n(i);var m=function(e){var t=e.onLogoClick;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__logo-container","data-testid":"logo-container",onClick:t},r.a.createElement("img",{className:"header__logo",src:l.a,alt:"logo"}),r.a.createElement("div",{className:"header__title"},"Movie Finder")))};a(28),a(29);var u=function(e){var t=e.className,a=e.title,n=e.subtitle,s=e.icon,o=e.onClick;return r.a.createElement("div",{className:"category-button ".concat(t)},r.a.createElement("button",{"data-testid":"category-button",className:"category-button__button",onClick:o},s&&r.a.createElement("img",{className:"category-button__icon",src:s,alt:"category button icon"}),a&&r.a.createElement("h3",{className:"category-button__title"},a)),n&&r.a.createElement("h5",{className:"category-button__subtitle"},n))},d=a(15),p=a.n(d),_=a(16),f=a.n(_);var h=function(e){var t=e.onMoviesClick,a=e.onSeriesClick;return r.a.createElement("div",{className:"home"},r.a.createElement("h1",{className:"home__title"},"Top Rated Titles"),r.a.createElement("div",{className:"home__categories"},r.a.createElement(u,{title:"Movies",icon:p.a,subtitle:"Top rated Movies",onClick:t}),r.a.createElement(u,{className:"home__categories__series-button",title:"Series",icon:f.a,subtitle:"Top rated Series",onClick:a})))},v=(a(30),a(3)),E=a.n(v),b=a(17),g=a(18),y=a(19),N=a.n(y);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(e,t){switch(t.type){case"FETCH_INIT":return C({},e,{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return C({},e,{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return C({},e,{isLoading:!1,isError:!0});default:throw new Error}},O=function(e,t){var a=Object(n.useState)(e),r=Object(c.a)(a,2),s=r[0],o=r[1],i=Object(n.useReducer)(k,{isLoading:!0,isError:!1,data:t}),l=Object(c.a)(i,2),m=l[0],u=l[1];return Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(b.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u({type:"FETCH_INIT"}),t.prev=1,t.next=4,N()(s);case 4:a=t.sent,e||u({type:"FETCH_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||u({type:"FETCH_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[s]),[m,o]};a(49);var j=function(e){var t=e.className,a=e.onClick;return r.a.createElement("button",{className:"back-button ".concat(t),onClick:a},r.a.createElement("i",{className:"fas fa-arrow-left"}),"Go Back")},S=(a(50),function(e){return"string"!==typeof e?e:e[0].toUpperCase()+e.substr(1)});var T=function(e){var t=e.className,a=e.image,n=e.index,s=e.title,o=e.type,c=e.releaseYear,i=e.onMoreInfoClick;return r.a.createElement("div",{className:"show-item ".concat(t)},r.a.createElement("img",{className:"show-item__image",src:a,alt:"Poster"}),r.a.createElement("span",{className:"show-item__title"},n,". ",s),r.a.createElement("span",{className:"show-item__type"},S(o)),r.a.createElement("span",{className:"show-item__year"},c),r.a.createElement("button",{className:"show-item__info-button",onClick:i},r.a.createElement("i",{className:"fas fa-info-circle"}),"More Info"))};a(51);var L=function(e){var t=e.className;return r.a.createElement("div",{className:"spinner ".concat(t),"data-testid":"loading"},r.a.createElement("div",{className:"double-bounce1"}),r.a.createElement("div",{className:"double-bounce2"}))};a(52);var P=function(e){var t=e.className,a=e.icon,n=e.message,s=e.description;return r.a.createElement("div",{className:"empty-state ".concat(t)},a&&r.a.createElement("i",{className:"fas fa-".concat(a," empty-state__icon")}),n&&r.a.createElement("p",{className:"empty-state__message"},n),s&&r.a.createElement("p",{className:"empty-state__description"},s))},B="https://raw.githubusercontent.com/StreamCo/react-coding-challenge/master/feed/sample.json";function D(e){var t=e.type,a=e.onBackButtonClick,s=e.onDetailsShow,o=O(B,{}),i=Object(c.a)(o,1)[0],l=i.isLoading,m=i.isError,u=i.data,d=Object(n.useState)(),p=Object(c.a)(d,2),_=p[0],f=p[1],h=[];if(u&&u.entries&&u.entries.length){var v="movies"===t?"movie":t;h=(h=(h=u.entries.filter((function(e){var t=e.programType,a=e.releaseYear;return t===v&&!(a<2010)}))).slice(0,21)).sort((function(e,t){return e.title.localeCompare(t.title,"en",{numeric:!0})})),_&&(h=h.filter((function(e){var t=e.title,a=e.programType,n=e.releaseYear;return t.toLowerCase().includes(_.toLowerCase())||n.toString().includes(_)||a.toLowerCase().includes(_.toLowerCase())})))}return r.a.createElement("div",null,r.a.createElement(j,{className:"show-list__back-button",onClick:a}),r.a.createElement("h1",{className:"show-list__title"},"Top Rated ",S(t)),r.a.createElement("div",{className:"show-list__search"},r.a.createElement("input",{className:"show-list__search__input",type:"search","aria-label":"Search for a show",placeholder:"Search for a ".concat("movies"===t?"movie":"TV series"),onChange:function(e){f(e.target.value)}}),r.a.createElement("span",{className:"show-list__search__icon"},r.a.createElement("i",{className:"fas fa-search"})," Search")),l?r.a.createElement(L,null):m?r.a.createElement(P,{icon:"exclamation-circle",message:"Oops !",description:"Something went wrong, please try again later"}):h.length?r.a.createElement("div",{className:"show-list__shows-container","data-testid":"show-list-container"},h.map((function(e,t){return r.a.createElement(T,{key:e.title,className:"show-list__item",image:e.images["Poster Art"].url,title:e.title,index:t+1,releaseYear:e.releaseYear,type:e.programType,onMoreInfoClick:function(){return s(e)}})}))):r.a.createElement(P,{icon:"search",message:"No results found",description:"Try adjusting your search to find what you're looking for"}))}D.defaultProps={type:"movies"};var x=D;a(53);var I=function(e){var t=e.onBackButtonClick,a=e.image,n=e.title,s=e.releaseYear,o=e.type,c=e.description;return r.a.createElement("div",{className:"show-details"},r.a.createElement("div",{className:"show-details__header"},r.a.createElement(j,{className:"show-details__back-button",onClick:t})),r.a.createElement("div",{className:"show-details__body"},r.a.createElement("img",{className:"show-details__body__image",src:a,alt:"Poster"}),r.a.createElement("div",{className:"show-details__body__info"},r.a.createElement("h2",{className:"show-details__body__info__title"},n," (",s,")"),r.a.createElement("p",{className:"show-details__body__info__type"},"Type: ",S(o)),r.a.createElement("p",{className:"show-details__body__info__description"},c))))};var F=function(){var e,t=Object(n.useState)("home"),a=Object(c.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(),l=Object(c.a)(i,2),u=l[0],d=l[1],p=function(e){return function(){return o(e)}};return r.a.createElement("div",{className:"container"},r.a.createElement(m,{onLogoClick:p("home")}),r.a.createElement("div",{className:"content"},"home"===s&&r.a.createElement(h,{onMoviesClick:p("movies"),onSeriesClick:p("series")}),["movies","series"].includes(s)&&r.a.createElement(x,{type:s,onBackButtonClick:p("home"),onDetailsShow:(e=s,function(t){o("series"===e?"seriesDetails":"movieDetails"),d(t)})}),["movieDetails","seriesDetails"].includes(s)&&r.a.createElement(I,{image:u.images["Poster Art"].url,title:u.title,type:u.programType,releaseYear:u.releaseYear,description:u.description,onBackButtonClick:p("seriesDetails"===s?"series":"movies")})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[20,1,2]]]);
//# sourceMappingURL=main.901b327e.chunk.js.map